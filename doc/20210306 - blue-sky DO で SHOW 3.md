# 2021-03-06 blue-sky DO で SHOW 第 3 回

* 日時 : 2021-03-06 12:00 ～ 13:30
* 場所 : Whereby
* 参加者 :
    * たけちゃん ( 遅刻？食い逃げ？ )
    * 西田さん
    * 安藤

----------------------------------------
# C++ での Unity みたいなコンポーネントの仕組みの実装例

## blue-sky/GameObject

* GameObjectがゲーム中にできること全てを所有している。
    * 不要な機能も持っているのでは？
        * btRigidBody
            * set_mass()
            * set_gravity()
            * set_friction()
            * 各関数の中で if ( get_rigid_body() )
        * play_sound()
        * play_animation()

    * コンポーネント形式（Unityで使ってるアレ）にする。

## 西田さんによる実装例の解説

* エンティティの定義
* コンポーネントの定義
* エンティティへのコンポーネントの追加
* エンティティからコンポーネントの取得

----------------------------------------
# 西田さんによるコードレビューの結果報告 ( 続き )

## 型名 "T" は良くないのか？

* たけちゃんどう思う？
* じゃあ何がいい？ "Type" ?

## typedef は using に置き換えていいはず

* 別の型を定義するとき、typedef に馴れてる、というかC\+\+11 に対応してないコンパイラでの開発が多かったため、usingよりtypedefを使ってました。C\+\+11ではtypedefよりもusingの使用が推奨されているため、typedefでよろしいかと。

## TimedCache は何をしているか？

* 指定した秒数、任意の型 ( オブジェクト ) を覚えておくためのクラス
    * 例 : はしごに「今接触した」時だけ、サウンドを再生する

----------------------------------------
# 3D アニメーション ( デュアルクォータニオンなど ) について

* たけちゃん教えて
* デュアルクォータニオンって何？
    * 何がいいの？
        * 移動と回転を同時に補間できる？